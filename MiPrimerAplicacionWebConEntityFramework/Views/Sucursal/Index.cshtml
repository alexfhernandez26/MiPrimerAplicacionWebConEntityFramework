@using MiPrimerAplicacionWebConEntityFramework.Models;
@model List<SucursalCLS>
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
@Html.ActionLink("Agregar","Agregar",null,new {@class="btn btn-primary" })

@using (Html.BeginForm("Index", "Sucursal", FormMethod.Post,new {@id="frmBuscar" }))
{
    @Html.Label("Buscar sucursal: ")
    @Html.TextBox("nombre")
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>@Html.LabelFor(p => Model[0].iidsucursal)</th>
            <th>@Html.LabelFor(p => Model[0].nombre)</th>
            <th>@Html.LabelFor(p => Model[0].telefono)</th>
            <th>@Html.LabelFor(p => Model[0].email)</th>
            <th>
                Operaciones
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr>

            <td>@item.iidsucursal</td>
            <td>@item.nombre</td>
            <td>@item.telefono</td>
            <td>@item.email</td>
            <td>
                @Html.ActionLink(" ", "Editar", "Sucursal", new { id = item.iidsucursal }, new { @class = "glyphicon glyphicon-pencil btn btn-primary" })
                @Html.ActionLink(" ", "Eliminar", "Sucursal", new { id = item.iidsucursal }, new { @class = "glyphicon glyphicon-trash btn btn-danger", @onclick="Eliminar()" })
            </td>
        </tr>
        }
    </tbody>
</table>
}
<script>
    function Eliminar() {
        if (confirm("Desea Eliminar?")==1) {
            alert("Registro eliminado")
        } else {
            event.preventDefault();
        }
    }

    var nombre = document.getElementById("nombre")
    nombre.onkeyup = function () {
        var frmbuscar = document.getElementById("frmBuscar")
        frmbuscar.submit();
    }
</script>